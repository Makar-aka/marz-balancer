# MarzBalancer

**MarzBalancer** — это FastAPI-приложение для мониторинга и агрегации статистики по нодам Marzban. Сервис собирает информацию о состоянии, клиентах и трафике всех подключённых нод, а также отображает сводную статистику в удобном веб-интерфейсе.
В разработке. 
Будут дополнения функционала.
## Возможности

- Агрегация информации о всех нодах Marzban через API.
- Отображение количества клиентов, статуса, uplink/downlink и другой информации по каждой ноде.
- Суммарная статистика по всем нодам.
- REST API для получения статистики в формате JSON.
- Простая установка и запуск через Docker.

Для подсчета клиентских подключений к нодам, надо установить ip-агент на каждую ноду Marzban.
https://github.com/Makar-aka/ip_agent

## Быстрый старт

1. **Клонируйте репозиторий:**

```
git clone https://github.com/Makar-aka/marz-balancer.git cd marz-balancer
```

2. **Создайте файл `.env` на основе `.env.example` и заполните параметры подключения:**

3. **Запустите через Docker Compose:**

```
docker-compose up --build
```

4. **Откройте веб-интерфейс:**

http://localhost:ваш порт/


## API

- `GET /api/stats` — получить текущую агрегированную статистику в формате JSON.

## Зависимости

- Python 3.9+
- FastAPI
- aiohttp
- python-dotenv
- uvicorn

## Лицензия

MIT

---

© [MakarSPB](https://github.com/Makar-aka/marz-balancer)